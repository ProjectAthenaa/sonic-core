syntax = "proto3";

option go_package = "github.com/ProjectAthenaa/sonic-core/protos/captcha";

enum CaptchaVersion{
  ReCaptchaV2Checkbox = 0;
  ReCaptchaV2Invisible = 1;
  ReCaptchaV3 = 2;
  HCaptchaCheckbox = 3;
  HCaptchaInvisible = 4;
  GeeTest = 5;
  ReCaptchaV3Enterprise = 6;
}

service Captcha{
  rpc GetToken(Details) returns (stream Token){};
}

message Details{
  string TaskID = 1;
  int64 CreatedAt = 2;
  string Url = 3;
  string SiteKey = 4;
  int32 Version = 5;
  CaptchaVersion Action = 6;
  float MinScore = 7;
  bool ProxyRequired = 8;
  string Cookies = 9;
  map<string, string> RenderParameters = 10;
  Credentials Credentials = 11;
}

message Token{
  string TaskID = 1;
  string Token = 3;
  int64 CreatedAt = 4;
//  Credentials Credentials = 5;
}

message Credentials{
  string AccessToken = 1;
  string ApiKey = 2;
}